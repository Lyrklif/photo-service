import{d as S,r as y,A as P,a as l,s as h,o as r,c as m,w,b as L,e as s,u as a,P as q,I as v,L as x,f as b,g as d,h as k,i as g,t as f,_ as i,j as $,k as B,l as A,m as I,n as C}from"./index-dee8fc3a.js";const p=S("photo",()=>{const e=y(null),o=y(!1),t=y(!1);return{photo:e,isLiked:o,likeProcess:t,loadPhotoData:async n=>{try{o.value=!1,e.value=null;const u=await P.getPhoto(n);e.value=u.data,o.value=u.data.liked_by_user}catch(u){console.error(u.response)}},likePhoto:async()=>{if(e.value)try{t.value=!0,await(o.value?P.unlikePhoto:P.likePhoto)(e.value.id),o.value=!o.value}catch(n){console.error(n.response)}finally{t.value=!1}}}}),N=l({__name:"PhotoPageHeader",setup(e){const o=p(),{isLiked:t,likeProcess:c}=h(o);return(_,n)=>(r(),m(L,null,{default:w(()=>[s(v,{to:{name:a(q).main},text:"Поиск",icon:"search",class:"search"},null,8,["to"]),s(b,{type:a(x).button,text:"Избранное",class:"like",liked:a(t),onClick:a(o).likePhoto,disabled:a(c)},null,8,["type","liked","onClick","disabled"])]),_:1}))}}),D={class:"author"},H={class:"author__text"},M={class:"author__name"},T={class:"author__username"},U=l({__name:"PhotoAuthor",props:{name:{type:String,required:!0},username:{type:String,required:!0},image:{type:String,required:!0},imageLarge:{type:String,required:!0}},setup(e){return(o,t)=>(r(),d("div",D,[s(k,{alt:e.name,src:e.image,srcset:`${e.imageLarge} 2x`,class:"author__img"},null,8,["alt","src","srcset"]),g("div",H,[g("p",M,f(e.name),1),g("p",T,"@"+f(e.username),1)])]))}});const E=i(U,[["__scopeId","data-v-4b7e1e05"]]),V={class:"buttons"},F=l({__name:"PhotoButtons",props:{downloadName:{type:String,required:!0},downloadUrl:{type:String,required:!0},liked:{type:Boolean,default:!1}},setup(e){const o=p(),{isLiked:t}=h(o);return(c,_)=>(r(),d("div",V,[s(b,{class:"button like",liked:a(t),type:a(x).button,onClick:a(o).likePhoto},null,8,["liked","type","onClick"]),s(v,{class:"button download",icon:"download",text:"Downloand",download:e.downloadName,href:e.downloadUrl,customTag:"a",target:"_blank"},null,8,["download","href"])]))}});const R=i(F,[["__scopeId","data-v-f3ebe192"]]),j={class:"container header"},z={class:"visually-hidden"},G=l({__name:"PhotoHeader",props:{title:{type:String,required:!0},name:{type:String,required:!0},username:{type:String,required:!0},image:{type:String,required:!0},imageLarge:{type:String,required:!0},download:{type:String,required:!0},liked:{type:Boolean,required:!0}},setup(e){return(o,t)=>(r(),d("header",j,[g("h1",z,f(e.title),1),s(E,{name:e.name,username:e.username,image:e.image,imageLarge:e.imageLarge},null,8,["name","username","image","imageLarge"]),s(R,{class:"buttons",downloadName:e.title,downloadUrl:e.download,liked:e.liked},null,8,["downloadName","downloadUrl","liked"])]))}});const K=i(G,[["__scopeId","data-v-bce857d1"]]),O=l({__name:"PhotoFull",props:{alt:{type:String,required:!0},src:{type:String,required:!0},srcMedium:{type:String,required:!0},srcLarge:{type:String,required:!0}},setup(e){return(o,t)=>(r(),m(k,{class:"image",alt:e.alt,src:e.src,srcset:`${e.srcMedium} 2x`,source:[{srcset:`${e.srcLarge} 2x, ${e.srcMedium}`,media:"(min-width: 768px)"}]},null,8,["alt","src","srcset","source"]))}});const J=i(O,[["__scopeId","data-v-19cc6fa6"]]),Q={class:"bg-image-wp"},W=l({__name:"PhotoBackground",props:{alt:{type:String,required:!0},image:{type:String,required:!0},imageLarge:{type:String,required:!0}},setup(e){return(o,t)=>(r(),d("div",Q,[s(k,{alt:e.alt,src:e.image,srcset:`${e.imageLarge} 2x`,class:"bg-image",lazy:""},null,8,["alt","src","srcset"])]))}});const X=i(W,[["__scopeId","data-v-9a62ff28"]]),Y={class:"container"},Z=l({__name:"PhotoContend",setup(e){const o=p(),{photo:t,isLiked:c}=h(o);return(_,n)=>(r(),d("main",null,[s(K,{title:a(t).alt_description,name:a(t).user.name,username:a(t).user.username,image:a(t).user.profile_image.medium,imageLarge:a(t).user.profile_image.large,download:a(t).links.download,liked:a(c),class:"photo-header"},null,8,["title","name","username","image","imageLarge","download","liked"]),g("div",Y,[s(J,{"src-large":a(t).urls.full,"src-medium":a(t).urls.regular,src:a(t).urls.small,alt:a(t).alt_description},null,8,["src-large","src-medium","src","alt"])]),s(X,{alt:a(t).alt_description,image:a(t).urls.regular,imageLarge:a(t).urls.full},null,8,["alt","image","imageLarge"])]))}});const ee=i(Z,[["__scopeId","data-v-de0c6d89"]]),te=l({__name:"PhotoPage",setup(e){const o=I(),t=p(),c=$(),{loading:_,error:n}=h(c),{photo:u}=h(t);return t.loadPhotoData(`${o.params.id}`),(ae,oe)=>(r(),d("div",null,[s(N),a(_)&&!a(u)?(r(),m(C,{key:0})):a(n)?(r(),m(B,{key:1,text:a(n),type:"error",offset:""},null,8,["text"])):a(u)?(r(),m(ee,{key:2})):A("",!0)]))}});const re=i(te,[["__scopeId","data-v-0bb3e3b5"]]);export{re as default};
