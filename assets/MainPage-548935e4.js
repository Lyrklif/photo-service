import{d as l,o as n,c as p,_ as d,r as g,a as m,b as $,w as R,v as V,e as r,f as _,g as P,h as M,p as A,i as x,u as c,j as E,s as S,k as H,l as y,m as f,n as b}from"./index-912c0dca.js";import{A as L}from"./AppPicture-f12fd6a3.js";import{I as N,A as T,L as D,a as C,b as I,u as F,c as O}from"./auth-2fe58887.js";const U=l({__name:"SearchBackground",setup(e){const s=[{srcset:"images/background-desktop.webp",media:"(min-width: 768px)"}];return(a,t)=>(n(),p(L,{class:"bg-image",source:s,src:"images/background.webp",alt:"'Звездная ночь' Винсента Ван Гога"}))}});const j=d(U,[["__scopeId","data-v-94dcbc2a"]]),G={class:"input"},K=["type"],q=l({__name:"AppInput",props:{startValue:{type:[String,Number],default:null},type:{type:String,default:"text"}},emits:["input"],setup(e,{emit:s}){const t=g(e.startValue),o=()=>{s("input",t.value)};return(i,u)=>(n(),m("label",G,[$(i.$slots,"before",{},void 0,!0),R(r("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>t.value=h),onInput:o,class:"input__field",type:e.type},null,40,K),[[V,t.value]])]))}});const z=d(q,[["__scopeId","data-v-61fb3ea5"]]),J=e=>(A("data-v-cfe583b2"),e=e(),x(),e),Q=["onSubmit"],W=J(()=>r("span",{class:"visually-hidden"},"Поиск изображений",-1)),X=l({__name:"SearchForm",emits:["submit"],setup(e,{emit:s}){const a=g(""),t=i=>{a.value=i},o=()=>{s("submit",a.value.trim())};return(i,u)=>(n(),m("form",{class:"form",onSubmit:M(o,["prevent"])},[_(z,{onInput:t},{before:P(()=>[W]),_:1}),_(N,{icon:"search",class:"submit",type:"submit",title:"Поиск"})],40,Q))}});const Y=d(X,[["__scopeId","data-v-cfe583b2"]]),Z={class:"search-panel"},ee={class:"container"},te=l({__name:"SearchPhoto",emits:["submit"],setup(e,{emit:s}){const a=t=>{s("submit",t)};return(t,o)=>(n(),m("div",Z,[r("div",ee,[_(Y,{class:"form",onSubmit:a})]),_(j)]))}});const se=d(te,[["__scopeId","data-v-2171d608"]]),oe=l({__name:"MainPageHeader",setup(e){return(s,a)=>(n(),p(T,{"static-logo":"",big:""},{default:P(()=>[_(C,{type:c(D).link,text:"Избранное",class:"like"},null,8,["type"])]),_:1}))}});const ae=d(oe,[["__scopeId","data-v-81631a37"]]),ne=E("photos",()=>{const e=g([]);return{loadRandomPhotos:async()=>{try{const t=await I.getRandom();e.value=t.data}catch(t){console.error(t.response)}},searchByName:async t=>{try{const o=await I.searchPhoto(t);e.value=o.data.results}catch(o){console.error(o.response)}},list:e}}),ce=e=>(A("data-v-3e75fa43"),e=e(),x(),e),re=ce(()=>r("header",{class:"visually-hidden"},[r("h1",null,"Art Galery. San Francisco")],-1)),_e={class:"container wrapper"},ie=l({__name:"MainPage",setup(e){const s=ne(),a=F(),{loading:t,error:o}=S(a),{list:i}=S(s),u=new AbortController;s.loadRandomPhotos(),H(()=>u.abort());const h=(v="")=>{v?s.searchByName(v):s.loadRandomPhotos()},k=y(()=>b(()=>import("./PhotoList-15e9d88a.js"),["assets/PhotoList-15e9d88a.js","assets/AppPicture-f12fd6a3.js","assets/index-912c0dca.js","assets/index-efc39a3a.css","assets/AppPicture-69498956.css","assets/PhotoList-cb6c0cfc.css"])),B=y(()=>b(()=>import("./ScrollTop-426a3018.js"),["assets/ScrollTop-426a3018.js","assets/index-912c0dca.js","assets/index-efc39a3a.css","assets/auth-2fe58887.js","assets/auth-e39ed49d.css","assets/ScrollTop-6a2d2be8.css"])),w=y(()=>b(()=>import("./AppMessage-5f1f5188.js"),["assets/AppMessage-5f1f5188.js","assets/index-912c0dca.js","assets/index-efc39a3a.css","assets/AppMessage-84d8840f.css"]));return(v,pe)=>(n(),m("div",null,[_(ae),r("main",null,[re,_(se,{onSubmit:h}),r("div",_e,[c(t)?(n(),p(O,{key:0})):c(o)?(n(),p(f(c(w)),{key:1,text:c(o),type:"error"},null,8,["text"])):(n(),p(f(c(k)),{key:2,list:c(i)},null,8,["list"]))])]),(n(),p(f(c(B))))]))}});const me=d(ie,[["__scopeId","data-v-3e75fa43"]]);export{me as default};
