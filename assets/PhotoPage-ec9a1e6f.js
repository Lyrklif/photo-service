import{d as C,r as h,A as f,a as m,s as _,u as S,c as y,o as r,b as l,e,n as w,I as b,_ as L,w as E,f as I,g as P,P as D,h as T,i as H,j as x,k as O,l as A,m as R,p as V,q as g,t as $}from"./index-5dd85375.js";const B=C("photo",()=>{const n=h(null),t=h(!1),o=h(!1);return{photo:n,isLiked:t,likeProcess:o,loadPhotoData:async s=>{try{t.value=!1,n.value=null;const a=await f.getPhoto(s);n.value=a.data,t.value=a.data.liked_by_user}catch(a){console.error(a.response)}},likePhoto:async()=>{if(n.value)try{o.value=!0,await(t.value?f.unlikePhoto:f.likePhoto)(n.value.id),t.value=!t.value}catch(s){console.error(s.response)}finally{o.value=!1}}}}),j=m({__name:"LikeButton",props:{showText:{type:Boolean,default:!1}},setup(n){const t=n,o=B(),{likePhoto:u}=o,{isLiked:c,likeProcess:s}=_(o),a=S(),{redirectAuth:i}=a,{isAuth:d}=_(a),p=y(()=>c.value?"heart-fill":"heart"),v=y(()=>t.showText?"Favorites":""),k=()=>{s.value||(d.value?u():i())};return(F,G)=>(r(),l(b,{text:e(v),title:"Like",icon:e(p),class:w(["like-button",e(c)?"fill":""]),disabled:e(s),onClick:k},null,8,["text","icon","class","disabled"]))}});const M=L(j,[["__scopeId","data-v-72a33b80"]]),N=m({__name:"PhotoPageHeader",setup(n){return(t,o)=>(r(),l(I,null,{default:E(()=>[P(b,{to:{name:e(D).main},text:"Search",icon:"search",class:"search"},null,8,["to"]),P(M,{"show-text":""})]),_:1}))}}),z=m({__name:"PhotoPage",setup(n){const t=V(),o=B(),u=T(),{loading:c,error:s}=_(u),{photo:a}=_(o),i=new AbortController;o.loadPhotoData(`${t.params.id}`),H(()=>i.abort());const d=x(()=>g(()=>import("./PhotoDetails-59269a3c.js"),["assets/PhotoDetails-59269a3c.js","assets/index-5dd85375.js","assets/index-70c92437.css","assets/PhotoDetails-1cf87dce.css"])),p=x(()=>g(()=>import("./AppMessage-66949254.js"),["assets/AppMessage-66949254.js","assets/index-5dd85375.js","assets/index-70c92437.css","assets/AppMessage-84d8840f.css"]));return(v,k)=>(r(),O("div",null,[P(N),e(c)&&!e(a)?(r(),l($,{key:0})):e(s)?(r(),l(A(e(p)),{key:1,text:e(s),type:"error",offset:""},null,8,["text"])):e(a)?(r(),l(A(e(d)),{key:2})):R("",!0)]))}});const q=L(z,[["__scopeId","data-v-283d218f"]]),J=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"}));export{M as L,J as P,B as u};
